#!/bin/sh

. ./omni-func

determine_keys $@

GAMES=$(mktemp)

COUNT=1


make_index | 

while read_branch_data; do
  if parms_pass; then
    show_branch_parms
    for MINO in $GAMELIST; do
      SCORE="$(./omnimino $MINO 2>/dev/null)" && printf " [%d]:%d" $COUNT $SCORE
      COUNT=$((COUNT+1))
      echo $MINO >> $GAMES
    done
    echo
    echo
  fi
done >&2

read -p "Enter game number : " NUM 

STR=

[ -n "$NUM" ] && STR=$(sed -n -e ${NUM}p $GAMES)

rm -f $GAMES

echo $STR

